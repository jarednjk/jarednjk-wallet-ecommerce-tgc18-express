{{#extends 'base'}}
{{#block 'content'}}

{{#if searchResultsCount}}
<div class="alert alert-success mt-3">
    <span>{{searchResultsCount}} Order(s) found</span>
</div>
{{/if}}
{{#unless searchResultsCount}}
<div class="alert alert-danger mt-3">
    <span>No order found</span>
</div>
{{/unless}}

<div class="accordion mt-4" id="accordionExample">
    <div class="accordion-item">
        <h2 class="accordion-header" id="headingOne">
            <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne"
                aria-expanded="true" aria-controls="collapseOne">
                <strong><i class="bi bi-search me-2"></i>Search & Filter</strong>
            </button>
        </h2>
        <div id="collapseOne" class="accordion-collapse collapse" aria-labelledby="headingOne"
            data-bs-parent="#accordionExample">
            <div class="accordion-body">
                <form method="GET">
                    {{{form}}}
                    <input type="submit" class="my-2 btn btn-primary" value="Search" />
                </form>
            </div>
        </div>
    </div>
</div>

<table class="table table-hover">
    <thead class="table-dark">
        <tr>
            <th>Order ID</th>
            <th>Customer Name</th>
            <th>Email</th>
            <th>Shipping Address</th>
            <th>Total Amount</th>
            <th>Order Date</th>
            <th>Status</th>
            <th>Actions</th>
        </tr>

    </thead>
    <tbody>
        {{#each orders}}
        <tr>
            <td>
                {{this.id}}
            </td>
            <td>
                {{this.user.first_name}} {{this.user.last_name}}
            </td>
            <td>
                {{this.user.email}}
            </td>
            <td>
                {{this.shipping_address_line1}} <br/>
                {{this.shipping_address_line2}} <br/>
                {{this.shipping_address_postal}}
            </td>
            <td>
                {{centsToDollars this.total_amount}}
            </td>
            <td>
                {{convertIsoDate this.order_date}}
            </td>
            <td>
                {{this.status.name}}
            </td>
            
            <td>
            </td>
            {{!-- <td>
                <div class="pt-1 mb-2">
                    <a class="rounded text-decoration-none py-1" href="/products/{{this.id}}/variants"
                        style="background-color:black" onMouseOver="this.style.backgroundColor='white'"
                        onMouseOut="this.style.backgroundColor='black'">
                        <span class="p-2" style="color:white" onMouseOver="this.style.color='black'"
                            onMouseOut="this.style.color='white'">Variants</span>
                    </a>
                </div>
                <div class="d-flex">

                    <a class="rounded me-1" href="/products/{{this.id}}/update" style="background-color:black"
                        onMouseOver="this.style.backgroundColor='white'"
                        onMouseOut="this.style.backgroundColor='black'"><big><i class="bi bi-pencil-square p-2"
                                style="color:white" onMouseOver="this.style.color='black'"
                                onMouseOut="this.style.color='white'"></i></big></a>

                    <a class="rounded" href="/products/{{this.id}}/delete" style="background-color:black"
                        onMouseOver="this.style.backgroundColor='white'"
                        onMouseOut="this.style.backgroundColor='black'"><big><i class="bi bi-trash3-fill p-2"
                                style="color:white" onMouseOver="this.style.color='black'"
                                onMouseOut="this.style.color='white'"></i></big></a>
                </div>

            </td> --}}
        </tr>
        {{/each}}
    </tbody>
</table>

{{/block}}
{{/extends}}